{
    "version": 3,
    "cmakeMinimumRequired": {
        "major": 3,
        "minor": 13,
        "patch": 0
    },
    "configurePresets": [
        {
            "name": "default",
            "displayName": "Default Configuration",
            "description": "Configure the EconoPET super-project",
            "generator": "Ninja",
            "binaryDir": "${sourceDir}/build",
            "cacheVariables": {
                "ECONOPET_ROMS_DIR": {
                    "type": "PATH",
                    "value": "$env{ECONOPET_ROMS_DIR}"
                }
            }
        }
    ],
    "buildPresets": [
        {
            "name": "all",
            "displayName": "Build All",
            "description": "Build all subprojects (ROM, firmware, gateware, tests, SD card)",
            "configurePreset": "default",
            "targets": ["all_projects"]
        },
        {
            "name": "fw",
            "displayName": "Firmware",
            "description": "Build only the RP2040 firmware",
            "configurePreset": "default",
            "targets": ["firmware_project"]
        },
        {
            "name": "fw_test",
            "displayName": "Firmware Tests",
            "description": "Build only the firmware unit tests",
            "configurePreset": "default",
            "targets": ["test_project"]
        },
        {
            "name": "gw",
            "displayName": "Gateware",
            "description": "Build only the FPGA gateware",
            "configurePreset": "default",
            "targets": ["fpga_project"]
        },
        {
            "name": "sdcard",
            "displayName": "SD Card Package",
            "description": "Build SD card package with all dependencies (firmware, gateware)",
            "configurePreset": "default",
            "targets": ["sdcard_project"]
        },
        {
            "name": "rom",
            "displayName": "ROMs",
            "description": "Build only the ROM subproject (menu and edit ROM)",
            "configurePreset": "default",
            "targets": ["rom_project"]
        }
    ],
    "testPresets": [
        {
            "name": "all",
            "displayName": "All Tests",
            "description": "Run all available tests",
            "configurePreset": "default"
        },
        {
            "name": "fw",
            "displayName": "Firmware Tests",
            "description": "Run only firmware unit tests",
            "configurePreset": "default",
            "filter": {
                "include": {
                    "label": "fw"
                }
            }
        },
        {
            "name": "gw",
            "displayName": "Gateware Tests",
            "description": "Run only gateware simulation tests",
            "configurePreset": "default",
            "filter": {
                "include": {
                    "label": "gw"
                }
            }
        }
    ]
}
