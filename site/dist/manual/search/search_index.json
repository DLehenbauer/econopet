{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"EconoPET User Manual","text":"<p>This manual walks through acquiring, assembling, installing, configuring, and troubleshooting the EconoPET.</p> <p>Note: These pages are intentionally placeholders. Content will be filled in as the manual is written.</p>"},{"location":"#contents","title":"Contents","text":"<ul> <li>Build an EconoPET</li> <li>Ordering PCBs from JLCPCB</li> <li>Ordering parts from Mouser</li> <li>Assembling the board</li> <li>Installing the firmware</li> </ul>"},{"location":"build-an-econopet/","title":"Build an EconoPET","text":"<p>\u26a0\ufe0f Warning: Rev A is not perfect. Before ordering, review the currently known issues and understand that new issues may be discovered over time.</p> <p>Building an EconoPET requires ordering PCBs from a manufacturer, some basic soldering skills and flashing firmware to a microcontroller. It is recommended that you read through all steps before ordering parts to ensure you are comfortable with the full process.</p>"},{"location":"build-an-econopet/#build-process","title":"Build Process","text":"<p>The steps to build an EconoPET are:</p> <ol> <li>Ordering PCBs from JLCPCB</li> <li>Ordering parts from Mouser</li> <li>Assembling the board</li> <li>Installing the firmware</li> </ol>"},{"location":"build-an-econopet/#getting-help","title":"Getting help","text":"<p>If you have questions, please open a GitHub issue. You can also find me in the Commodore PET/CBM Enthusiast group on Facebook.</p>"},{"location":"build-an-econopet/assembling-the-board/","title":"Assembling the board","text":"<p>This page covers through-hole assembly: a recommended order, orientation notes, header splitting/keying, and a final inspection checklist.</p> <p>If you ordered your boards with SMT assembly from JLCPCB, the surface-mount parts should already be installed. The remaining work is installing any through-hole connectors, sockets, and other optional breakouts.</p>"},{"location":"build-an-econopet/assembling-the-board/#recommended-assembly-order","title":"Recommended assembly order","text":"<p>The back of the PCB includes a suggested assembly order, generally sorted by component height (shortest first). The exact order is not critical.</p> <p>It is fine to skip optional components (for example, header breakouts) and add them later.</p> <p>WARNING (rev 40/8096-A silkscreen): Steps 22-23 on the silkscreen incorrectly list \"8x2 Header (2)\", implying two 8x2 pin headers are needed. In reality, one of these is the shrouded SWD/JTAG connector (part #61201621621), not a generic pin header.</p> <p>Do not cut an extra 8x2 header from your 25x2 or 20x2 headers, or you may end up short.</p>"},{"location":"build-an-econopet/assembling-the-board/#component-orientation","title":"Component orientation","text":"<p>Most through-hole parts are symmetrical or keyed, but pay attention to:</p> <ul> <li>ICs and IC sockets: align the notch with the silkscreen (notch toward the top of the board).</li> <li>DIP switch: orient so the \"ON\" side faces toward the FPGA, matching the silkscreen.</li> <li>Polarized capacitor (C89): the longer lead is positive (+). Match the PCB '+' marking. C89 has multiple hole patterns.  Use the closest pair of holes to match the capacitor lead spacing.</li> <li>Shrouded SWD/JTAG connector: the connector is keyed. Orient the notch toward the HDMI connector, matching the silkscreen.</li> </ul>"},{"location":"build-an-econopet/assembling-the-board/#header-splitting-and-keying","title":"Header splitting and keying","text":"<p>Many connectors are supplied as break-away headers that must be cut to length.</p> <ul> <li>Cut between pins with side cutters or a razor saw.</li> <li>It is easy to cut the wrong length the first time.  Consider ordering a few spares.</li> </ul>"},{"location":"build-an-econopet/assembling-the-board/#1x36-header-pet-keyboardvideo","title":"1x36 header (PET keyboard/video)","text":"<p>This header is typically keyed by removing specific pins.</p> <pre><code>\n               cut                                       cut\n      Video     v                Keyboard                 v\n|------ 7 ------|------------------ 20 -------------------|-------- 9 --------|\n| O _ O O O O O | O _ O O O O O O O O O O O O O O O O O O | O O O O O O O O O |\n\n    ^               ^\n remove          remove\n  (key)           (key)\n</code></pre>"},{"location":"build-an-econopet/assembling-the-board/#25x2-headers-bususermcu5vmenu","title":"25x2 headers (bus/user/MCU/5V/menu)","text":"<p>There are two 25x2 headers in the BOM. One is used uncut for the bus expansion breakout. The other is divided as shown below.</p> <pre><code>                     cut                     cut     cut\n           MCU        v          User         v  5V   v Menu\n|--------- 10 --------|---------- 11 ---------|-- 3 --| 1 |\n| O O O O O O O O O O | O O O O O O O O O O O | O O O | O |\n| O O O O O O O O O O | O O O O O O O O O O O | O O O | O |\n</code></pre>"},{"location":"build-an-econopet/assembling-the-board/#20x2-header-ieeekeyex","title":"20x2 header (IEEE/KeyEx)","text":"<pre><code>                 cut                 cut\n       KeyEx      v       IEEE        v\n|------- 8 -------|-------- 9 --------|-- 3 --|\n| O O O O O O O O | O O O O O O O O O | O O O |\n| O O O O O O O O | O O O O O O O O O | O O O |\n</code></pre>"},{"location":"build-an-econopet/assembling-the-board/#10x1-headers-user-port-configcassette9v6v","title":"10x1 headers (user port config/cassette/9V/6V)","text":"<p>There are two 10x1 headers in the BOM, and they are cut differently.</p> <p>10x1 header #1 (user port config, cassette)</p> <pre><code>       cut           cut\n   Cfg  v     Cass    v\n|-- 3 --|----- 6 -----| 1 |\n| O O O | O O O O O O | O |\n</code></pre> <p>10x1 header #2 (9V, cassette, 6V)</p> <pre><code>     cut           cut\n  9V  v     Cass    v  6V\n|- 2 -|----- 6 -----|- 2 -|\n| O O | O O O O O O | O O |\n</code></pre>"},{"location":"build-an-econopet/assembling-the-board/#pet-power-connector","title":"PET power connector","text":"<p>The PET power connector is a 3.93mm pitch connector. Two pins must be removed to key the connector correctly.</p> <pre><code>         Power\n|--------- 9 ---------|\n| O O _ _ O O O O O O |\n      ^ ^\n    remove\n    (key)\n</code></pre>"},{"location":"build-an-econopet/assembling-the-board/#final-inspection","title":"Final inspection","text":"<p>Before the first power-on:</p> <ul> <li>Inspect all solder joints for bridges and cold joints.</li> <li>Verify the orientation of all ICs, sockets, and polarized parts.</li> <li>Confirm any keyed headers/connectors match the silkscreen.</li> <li>If you have a multimeter, do a quick continuity check for obvious shorts on power rails.</li> </ul> <p>Next: Installing the firmware</p>"},{"location":"build-an-econopet/installing-the-firmware/","title":"Installing the firmware","text":"<p>Normally, firmware upgrades are done by placing the firmware files on a microSD card. However, the initial install (or recovering from a corrupted bootloader) requires restoring the EconoPET bootloader over USB.</p> <p>The flow is:</p> <ol> <li>Initialize a microSD card with the firmware files.</li> <li>Restore the bootloader via USB (one time, or as-needed if it gets overwritten).</li> <li>After the bootloader is restored, the EconoPET will automatically finish the firmware update from the microSD card.</li> </ol>"},{"location":"build-an-econopet/installing-the-firmware/#initialize-the-microsd-card","title":"Initialize the microSD card","text":"<p>The EconoPET uses a microSD card to configure the system at power on and reset. To prepare a microSD card:</p> <ol> <li>Download and unzip the latest firmware from the EconoPET site: https://dlehenbauer.github.io/econopet/40-8096-A.html</li> <li>Format the microSD card with the FAT32 or exFAT filesystem.</li> <li>Copy the unzipped contents of the firmware archive to the root of the microSD card.</li> <li>Insert the microSD card into the EconoPET</li> </ol> <p>If you have trouble formatting the card, try the SD Memory Card Formatter tool from the SD Association: https://www.sdcard.org/downloads/</p> <p>Note: the microSD card socket uses a push-to-eject mechanism. Do not remove the card by pulling.</p>"},{"location":"build-an-econopet/installing-the-firmware/#install-the-bootloader","title":"Install the bootloader","text":"<p>To avoid powering the CBM/PET without firmware installed (which can cause a \"bright spot\" on the CRT), do the initial bootloader restore with the board outside the machine using an external 9V supply.</p> <ol> <li>Remove the EconoPET from the CBM/PET (if installed).</li> <li>Insert the prepared microSD card.</li> <li>Connect a USB cable from the EconoPET USB-C port to your computer.</li> <li>Enter flash mode:</li> <li>Press and hold the FLASH button on the EconoPET.</li> <li>While holding FLASH, apply 9V power to the EconoPET (use the DC jack or the 2-pin power breakout).</li> <li>After a couple of seconds, release the FLASH button.</li> <li>The EconoPET should appear as a USB mass storage device named RPI-RP2.</li> <li>Copy the bootloader:</li> <li>bootloader.uf2 is included in the same firmware .zip used to initialize the microSD card.</li> <li>Drag and drop bootloader.uf2 into the RPI-RP2 drive.</li> <li>After the file is copied, the EconoPET will automatically reboot and finish the firmware update from the microSD card.</li> <li>The green LED will blink rapidly during this process.</li> <li>When complete, you should hear a short 4-note \"success\" beep from the speaker.</li> </ol> <p>After this one-time step, future firmware updates are normally done by updating the files on the microSD card.</p>"},{"location":"build-an-econopet/ordering-parts-from-mouser/","title":"Ordering parts from Mouser","text":"<p>This section lists the through-hole parts needed to build an EconoPET mainboard.  These parts will be hand-soldered onto the PCB after receiving it from JLCPCB.</p>"},{"location":"build-an-econopet/ordering-parts-from-mouser/#what-to-buy-from-mouser-vs-elsewhere","title":"What to buy from Mouser (vs elsewhere)","text":"<p>All items below can be sourced from Mouser, but some are generic and often cheaper in bulk from other sources:</p> <ul> <li>Break-away pin headers (2.54mm pitch, 1x and 2x)</li> <li>Jumper caps (2.54mm pitch)</li> <li>Small tactile push buttons</li> <li>Right-angle push button (menu)</li> <li>PCB mounting pillars (nylon, adhesive)</li> <li>DC power jack (5.5mm OD / 2.1mm ID)</li> </ul> <p>If you do buy headers from Mouser, consider ordering a few spares. Cutting headers to length is easy to get wrong on the first try.</p>"},{"location":"build-an-econopet/ordering-parts-from-mouser/#bom-for-through-hole-components","title":"BOM for Through-Hole Components","text":"Mfr Part Number Mouser Part Number Order Quantity Description Datasheet URL W65C02S6TPG-14 955-W65C02S6TPG-14 1 W65C02S CPU (DIP-40). Do not substitute other 6502 variants. datasheet W65C21N6TPG-14 955-W65C21N6TPG-14 2 W65C21N PIA (DIP-40). Do not substitute W65C21S (lacks current limiting resistors). datasheet W65C22N6TPG-14 955-W65C22N6TPG-14 1 W65C22N VIA (DIP-40). Do not substitute W65C22S (lacks current limiting resistors). datasheet AS6C1008-55PCN 913-AS6C1008-55PCN 1 128KB SRAM (DIP-32, 55ns) datasheet 1-2199299-5 571-1-2199299-5 4 DIP-40 IC Socket (optional but recommended) datasheet DILB32P-223TLF 649-DILB32P223TLF 1 DIP-32 IC Socket (optional but recommended) datasheet 640384-9 571-6403849 1 PET power connector (optional if using stand-alone) datasheet 10129378-936003BLF 649-1012937893603BLF 1 36x1 Header: PET keyboard/video (optional if using stand-alone) datasheet AT-1220-TT-9-R 665-AT1220TT9R 1 Internal PCB mounted speaker (optional) datasheet SJ-43504-SMT-TR 490-SJ-43504-SMT-TR 1 3.5mm Audio Jack (required for sound) datasheet DS04-254-1L-02BK 490-DS04-254-1L-02BK 1 DIP Switch (config display and keyboard) datasheet MSA-G 737-MSA-G 1 Jumper cap (config Video or 5V) datasheet MJTP1117 642-MJTP1117 1 Right-angled Button (Menu) datasheet PTS636SK43 LFS 611-PTS636SK43LFS 4 Push Buttons: Flash &amp; Run required, Reset &amp; NMI optional datasheet 10129381-950002BLF 649-1012938195002BLF 2 25x2 Header: bus, user, MCU, 5V, menu (optional breakouts) datasheet 10129381-940002BLF 649-1012938194002BLF 1 20x2 Header: IEEE, KeyEx (optional breakouts) datasheet 613012243121 710-613012243121 2 PMOD Connectors (6x2, right angle, optional) datasheet 61201621621 710-61201621621 1 SWD/JTAG (8x2 pin, shrouded, optional) datasheet 10129378-910002BLF 649-1012937891002BLF 2 10x1 Header: User config (required) and cassette, 6V, 9V (optional breakouts) datasheet SC1628 358-SC1628 1 32GB microSD card (known good, but feel free to try what you have on hand) datasheet RASPC722X 502-RASPC722X 1 DC Power Jack (optional: for standalone use) datasheet LCBSBM-7-01A-RT 144-LCBSBM-7-01A-RT 2 or 4 PCB Mounting Pillar (get 4 if using standalone) datasheet LCBSBM-7-01A-RT 144-LCBSBM-7-01A-RT 2 or 4 PCB Mounting Pillar (get 4 if using standalone) datasheet EEU-FM1V331 667-EEU-FM1V331 1 330uF 35V low-ESR capacitor (C89) datasheet <p>Next: Assembling the board</p>"},{"location":"build-an-econopet/ordering-pcbs-from-jlcpcb/","title":"Ordering PCBs from JLCPCB","text":"<p>This page describes how to order PCBs from JLCPCB. JLCPCB is a major PCB manufacturer that also offers low-volume PCB assembly (PCBA), which makes it popular for prototyping and hobby builds.</p>"},{"location":"build-an-econopet/ordering-pcbs-from-jlcpcb/#how-the-process-works","title":"How the process works","text":"<p>To place an order, you will upload a set of manufacturing files to JLCPCB's website:</p> <ul> <li>Gerber files (Gerber ZIP): Fabrication data for the PCB</li> <li>Bill of Materials (BOM): the list of SMT components to be assembled (for PCBA)</li> <li>Component Placement List (CPL): the component location and orientation (for PCBA)</li> </ul> <p>JLCPCB will generate a quote based on your PCB options, how many boards you want assembled, and component cost.  After you submit the order, JLCPCB engineers will run a fabrication/assembly review and notify you if there are any issues with your order.</p> <p>Once your order is accepted, JLCPCB's factory will fabricate the PCB.  After the PCB is fabricated and checked by QA, the PCB will be sent to the assembly line where SMT components will be placed and soldered.  After a final inspection, the completed boards will be shipped to you.</p> <p>This project does not use JLCPCB's through-hole assembly service. You will order the through-hole parts separately from Mouser and solder them yourself when your PCBs arrive.</p>"},{"location":"build-an-econopet/ordering-pcbs-from-jlcpcb/#minimum-quantities","title":"Minimum quantities","text":"<p>For PCB fabrication, there is a fixed amount of work to prepare and run a job (CAM checks, tooling/drill setup, panelization, and solder mask/silkscreen processing). Similarly, for PCB assembly (PCBA) there are one-time setup costs (assembly programming, feeder setup, and often a stencil).</p> <p>To amortize these costs, PCB manufacturers typically have minimum order quantities:</p> Service Minimum order PCB fabrication 5 PCBs SMT assembly 2 assembled PCBs <p>Please place a small initial test order to verify the project works for you before committing to a larger quantity.</p>"},{"location":"build-an-econopet/ordering-pcbs-from-jlcpcb/#sourcing-the-fpga","title":"Sourcing the FPGA","text":"<p>The FPGA used by the EconoPET (T20Q144C3) is not a standard JLCPCB part.  You will need to pre-purchase the FPGA using JLCPCB's Global Sourcing service before you can finalize your PCB/PCBA order.</p> <p>When you use JLCPCB's global sourcing service, you buy the part through JLCPCB's website and JLCPCB sources it from a distributor such as CoreStaff or Digi-Key.  The distributor ships the component directly to JLCPCB's warehouse, where JLCPCB holds the part for you until you submit a PCBA order that uses it.</p>"},{"location":"build-an-econopet/ordering-pcbs-from-jlcpcb/#out-of-stock-parts","title":"Out-of-stock parts","text":"<p>When you upload the BOM, JLCPCB will check their inventory and warn you if any parts are out of stock. If this happens, you have a couple options:</p> <ol> <li>If available, buy \"idle parts\" (extra parts pre-ordered by other JLCPCB customers who no longer need them).</li> <li>Pre-order the part and wait for it to arrive at JLCPCB before finalizing your PCB/PCBA order.</li> </ol> <p>Idle parts can be used immediately because they are already in JLCPCB's warehouse. This is generally the best option when it is available.</p> <p>Pre-ordering parts is similar to Global Sourcing, but does not involve a third-party distributor which typically reduces the per-unit cost.  The trade-off is that there may be a minimum order quantity and lead time. Depending on the MOQ and schedule, Global Sourcing may be worth considering.</p>"},{"location":"build-an-econopet/ordering-pcbs-from-jlcpcb/#ordering-the-pcb","title":"Ordering the PCB","text":"<p>Below are the general steps to place an order.  Please help improve this document by opening a GitHub issue if you run into a problem or have questions about the process.</p> <p>\ud83d\udca1 Tip: To get a rough cost estimate, you can do a \"dry run\" by uploading the Gerber, BOM, and CPL files to JLCPCB and stopping before checkout. You can do this even if you have not pre-ordered the FPGA yet.  Don't forget to add the price of the through-hole parts from Mouser to your total cost estimate.</p> <ol> <li> <p>Create a JLCPCB account</p> <ul> <li>Sign up at https://jlcpcb.com/</li> </ul> </li> <li> <p>Pre-order the FPGA (important)</p> <ul> <li>Use JLCPCB Global Sourcing to pre-order the FPGA</li> <li>Search for MFR Part #: T20Q144C3</li> <li>Pick a distributor and add the part to your cart<ul> <li>Order one unit per assembled board (so order at least 2, or you won't be able to place a minimum PCBA order for 2 boards)</li> <li>In the past, CoreStaff has had a nice price break if you order 5+ units</li> </ul> </li> <li>Complete the checkout process<ul> <li>Go to your cart and select the 'Global Sourcing Parts' tab</li> <li>Check the row containing the T20Q144C3 part and click 'Secure Checkout' to complete your order</li> </ul> </li> <li>Pre-ordered parts will be shipped to JLCPCB and held in their warehouse until you submit your assembly order</li> </ul> </li> <li> <p>Quote for the PCB</p> <ul> <li>Go to JLCPCB's Instant Quote page</li> <li>Click 'Add Gerber File' and upload the Gerber ZIP: EconoPET_408096_A.zip</li> <li>Set the following PCB options:<ul> <li>PCB Qty: (choose how many PCBs you want fabricated)</li> </ul> </li> <li>Unless you know what you are doing, use the default values for other options (list below for reference):<ul> <li>Base Material: FR-4</li> <li>Layers: 2</li> <li>Dimensions: (detected from Gerber file)</li> <li>Product Type: Industrial/Consumer Electronics</li> <li>PCB Specifications:<ul> <li>Different Design: 1</li> <li>Delivery Format: Single PCB</li> <li>PCB Thickness: 1.6mm</li> <li>PCB Color: Green</li> <li>Silkscreen: White</li> <li>Material Type: FR4 TG135</li> <li>Surface Finish: HASL (with lead)</li> </ul> </li> <li>High-spec Options<ul> <li>Outer Copper Weight: 1oz</li> <li>Via Covering: Tented</li> <li>Via Plating Method: 0.3mm/(0.4/0.45mm)</li> <li>Board Outline Tolerance: +/-0.2mm(Regular)</li> <li>Confirm Production file: No</li> <li>Mark on PCB: Remove Mark</li> <li>Electrical Testing: Flying Probe Test</li> <li>Gold Fingers: No</li> <li>Castellated Holes: No</li> <li>Edge Plating: No</li> <li>Blind Slots: No</li> <li>UL Marking: No</li> </ul> </li> </ul> </li> </ul> </li> <li> <p>Add PCB Assembly</p> <ul> <li>Turn on the \"PCB Assembly\" toggle switch on the Instant Quote page.</li> <li>Set the following PCB Assembly options:<ul> <li>PCBA Qty: (choose how many boards you want assembled)</li> </ul> </li> <li>Unless you know what you are doing, use the default values for other options (list below for reference):<ul> <li>PCBA Type: Economic</li> <li>Assembly Side: Top Side</li> <li>Tooling holes: Added by JLCPCB</li> <li>Confirm Parts Placement: No</li> <li>Stencil Storage: No</li> <li>Fixture Storage: No</li> <li>Parts Selection: By Customer</li> </ul> </li> </ul> </li> <li> <p>Upload BOM and CPL files</p> <ul> <li>Push \"Next\" to go to the PCB preview page.</li> <li>Push \"Next\" again to go to the BOM/CPL upload page.</li> <li>Upload the BOM file: jlcpcb-rev-a-bom.csv</li> <li>Upload the CPL file: jlcpcb-rev-a-cpl.csv</li> <li>Click 'Process BOM &amp; CPL' to continue.</li> </ul> </li> <li> <p>Review BOM Data</p> <ul> <li>JLCPCB will display the parts found in the BOM along with pricing and availablity.</li> <li>If a part is out of stock, click the table row (not the magnifying glass) to see options for idle parts or pre-ordering.</li> <li>Click 'Next' to continue to the Component Placement page.</li> </ul> </li> <li> <p>Sanity check that the Component Placement looks right, then press 'Next' to continue to the Quote &amp; Order tab.</p> </li> <li> <p>Place your order</p> <ul> <li>Select Reserch\\Education\\DIY\\Entertainment / DYI - HS Code 902300</li> <li>Click 'Save To Cart' (your card will show two items: PCB fabrication and PCB assembly)</li> <li>Click 'Secure Checkout' to complete your order.</li> </ul> </li> </ol> <p>If you would like help reviewing your order before you place it, you can find me in the Commodore PET/CBM Enthusiast group on Facebook.</p> <p>Next: Ordering parts from Mouser</p>"}]}